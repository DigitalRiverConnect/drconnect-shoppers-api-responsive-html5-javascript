(function(a){if(typeof define==="function")define(a);else if(typeof exports==="object")a(void 0,exports);else if(typeof ses!=="undefined"){if(ses.ok())ses.makeQ=function(){return a(void 0,{})}}else a(void 0,Q={})})(function(a,b){function c(){function a(c){if(b)return m=j(c),u(b,function(a,b){k(function(){m.promiseSend.apply(m,b)})},void 0),b=void 0,m}var b=[],m,e=v(c.prototype),f=v(d.prototype);f.promiseSend=function(){var a=h(arguments);b?b.push(a):k(function(){m.promiseSend.apply(m,a)})};f.valueOf=
function(){return b?f:m.valueOf()};p(f);e.promise=f;e.resolve=a;e.reject=function(b){return a(l(b))};return e}function d(a,b,c,e){b===void 0&&(b=function(a){return l(Error("Promise does not support operation: "+a))});var f=v(d.prototype);f.promiseSend=function(c,d){var m=h(arguments,2),e;try{e=a[c]?a[c].apply(f,m):b.apply(f,[c].concat(m))}catch(N){e=l(N)}d(e)};if(c)f.valueOf=c;if(e)f.promiseRejected=!0;p(f);return f}function e(a){return Object(a)!==a?a:a.valueOf()}function g(a){return a&&typeof a.promiseSend===
"function"}function f(a){return!g(e(a))}function B(a){return(a=e(a))&&!!a.promiseRejected}function l(a){var b=d({when:function(b){if(b){var c=w.indexOf(this);c!==-1&&(x.splice(c,1),w.splice(c,1))}return b?b(a):l(a)}},function(){return l(a)},function(){return l(a)},!0);w.push(b);x.push(a);return b}function j(a){if(g(a))return a;if(a&&typeof a.then==="function"){var b=c();a.then(b.resolve,b.reject);return b.promise}return d({when:function(){return a},get:function(b){return a[b]},put:function(b,c){return a[b]=
c},del:function(b){return delete a[b]},post:function(b,c){return a[b].apply(a,c)},apply:function(b,c){return a.apply(b,c)},fapply:function(b){return a.apply(void 0,b)},viewInfo:function(){function b(a){d[a]||(d[a]=typeof c[a])}for(var c=a,d={};c;)Object.getOwnPropertyNames(c).forEach(b),c=Object.getPrototypeOf(c);return{type:typeof a,properties:d}},keys:function(){return keys(a)}},void 0,function(){return a})}function C(a,b){a=j(a);return b?d({viewInfo:function(){return b}},function(b){var c=h(arguments);
return q.apply(void 0,[a].concat(c))},function(){return e(a)}):q(a,"viewInfo")}function i(a,b,d){function e(a){try{return b?b(a):a}catch(c){return l(c)}}function f(a){try{return d?d(a):l(a)}catch(b){return l(b)}}var g=c(),h=!1;k(function(){j(a).promiseSend("when",function(a){h||(h=!0,j(a).promiseSend("when",function(a){g.resolve(e(a))},function(a){g.resolve(f(a))}))},function(a){h||(h=!0,g.resolve(f(a)))})});return g.promise}function D(a){return function(b){var c=h(arguments,1);return q.apply(void 0,
[b,a].concat(c))}}function q(a,b){var d=c(),e=h(arguments,2),a=j(a);k(function(){a.promiseSend.apply(a,[b,d.resolve].concat(e))});return d.promise}function E(a,b,d){var e=c(),a=j(a);k(function(){a.promiseSend.apply(a,[b,e.resolve].concat(d))});return e.promise}function n(a){return function(b){var c=h(arguments,1);return E(b,a,c)}}function F(a,b){var c=h(arguments,2);return y(a,b,c)}function G(a){var b=h(arguments,1);return z(a,b)}function H(a){return i(a,function(a){var b=a.length;if(b===0)return j(a);
var d=c();u(a,function(c,M,e){i(M,function(c){a[e]=c;--b===0&&d.resolve(a)}).fail(d.reject)},void 0);return d.promise})}function t(a,b,c){return I(a).apply(b,c)}function I(a){if(arguments.length>1)var b=h(arguments,1),a=a.bind.apply(a,b);return function(){var b=c(),d=h(arguments);d.push(b.makeNodeResolver());z(a,d).fail(b.reject);return b.promise}}var A=function(){},p=Object.freeze||A;if(typeof cajaVM!=="undefined")p=cajaVM.def;var k;if(typeof process!=="undefined")k=process.nextTick;else if(typeof msSetImmediate===
"function")k=msSetImmediate;else if(typeof setImmediate==="function")k=setImmediate;else if(typeof MessageChannel!=="undefined"){var J=new MessageChannel,r={},K=r;J.port1.onmessage=function(){r=r.next;var a=r.task;delete r.task;a()};k=function(a){K=K.next={task:a};J.port2.postMessage(0)}}else k=function(a){setTimeout(a,0)};var o;Function.prototype.bind?(o=Function.prototype.bind,o=o.bind(o.call)):o=function(a){return function(b){return a.call.apply(a,arguments)}};var h=o(Array.prototype.slice),u=
o(Array.prototype.reduce||function(a,b){var c=0,d=this.length;if(arguments.length===1){do{if(c in this){b=this[c++];break}if(++c>=d)throw new TypeError;}while(1)}for(;c<d;c++)c in this&&(b=a(b,this[c],c));return b}),v=Object.create||function(a){function b(){}b.prototype=a;return new b},O=Object.keys||function(a){var b=[],c;for(c in a)b.push(c);return b},P=Object.prototype.toString;if(typeof ReturnValue==="undefined")(new Function("return this"))().ReturnValue=function(a){this.value=a};b.nextTick=
k;b.defer=c;c.prototype.node=c.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):arguments.length>2?a.resolve(h(arguments,1)):a.resolve(c)}};b.promise=function(a){var b=c();F(a,void 0,b.resolve,b.reject).fail(b.reject);return b.promise};b.makePromise=d;d.prototype.then=function(a,b){return i(this,a,b)};u("isResolved,isFulfilled,isRejected,when,spread,send,get,put,del,post,invoke,keys,apply,call,bind,fapply,fcall,fbind,all,allResolved,view,viewInfo,timeout,delay,catch,finally,fail,fin,end".split(","),
function(a,c){d.prototype[c]=function(){return b[c].apply(b,[this].concat(h(arguments)))}},void 0);d.prototype.toSource=function(){return this.toString()};d.prototype.toString=function(){return"[object Promise]"};p(d.prototype);b.nearer=e;b.isPromise=g;b.isResolved=function(a){return f(a)||B(a)};b.isFulfilled=f;b.isRejected=B;var w=[],x=[];typeof window!=="undefined"&&console.log("Should be empty:",x);b.reject=l;b.begin=j;b.resolve=j;b.ref=j;b.master=function(a){return d({isDef:function(){}},function(b){var c=
h(arguments);return q.apply(void 0,[a].concat(c))},function(){return e(a)})};b.viewInfo=C;b.view=function(a){return C(a).when(function(b){var c;c=b.type==="function"?function(){return y(a,void 0,arguments)}:{};var d=b.properties||{};O(d).forEach(function(b){d[b]==="function"&&(c[b]=function(){return L(a,b,arguments)})});return j(c)})};b.when=i;b.spread=function(a,b,c){return i(a,function(a){return b.apply(void 0,a)},c)};b.async=function(a){return function(){function b(a,f){var g;try{g=c[a](f)}catch(s){return P(s)===
"[object StopIteration]"||s instanceof ReturnValue?s.value:l(s)}return i(g,d,e)}var c=a.apply(this,arguments),d=b.bind(b,"send"),e=b.bind(b,"throw");return d()}};b["return"]=function(a){throw new ReturnValue(a);};b.sender=D;b.Method=D;b.send=q;b.dispatch=E;b.dispatcher=n;b.get=n("get");b.put=n("put");b["delete"]=b.del=n("del");var L=b.post=n("post");b.invoke=function(a,b){var c=h(arguments,2);return L(a,b,c)};var y=b.apply=n("apply"),z=b.fapply=n("fapply");b.call=F;b["try"]=G;b.fcall=G;b.bind=function(a,
b){var c=h(arguments,2);return function(){var d=c.concat(h(arguments));return y(a,b,d)}};b.fbind=function(a){var b=h(arguments,1);return function(){var c=b.concat(h(arguments));return z(a,c)}};b.keys=n("keys");b.all=H;b.allResolved=function(a){return i(a,function(a){return i(H(a.map(function(a){return i(a,A,A)})),function(){return a.map(j)})})};b["catch"]=b.fail=function(a,b){return i(a,void 0,b)};b["finally"]=b.fin=function(a,b){return i(a,function(a){return i(b(),function(){return a})},function(a){return i(b(),
function(){return l(a)})})};b.end=function(a){i(a,void 0,function(a){k(function(){throw a;})})};b.timeout=function(a,b){var d=c();i(a,d.resolve,d.reject);setTimeout(function(){d.reject(Error("Timed out after "+b+"ms"))},b);return d.promise};b.delay=function(a,b){b===void 0&&(b=a,a=void 0);var d=c();setTimeout(function(){d.resolve(a)},b);return d.promise};b.napply=t;b.ncall=function(a,b){var c=h(arguments,2);return t(a,b,c)};b.nbind=I;b.npost=function(a,b,c){return t(a[b],b,c)};b.ninvoke=function(a,
b){var c=h(arguments,2);return t(a[b],b,c)};p(b)});
(function(){var a=!1,b=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(c){function d(){!a&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;a=!0;var g=new this;a=!1;for(var f in c)g[f]=typeof c[f]=="function"&&typeof e[f]=="function"&&b.test(c[f])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);this._super=c;return d}}(f,c[f]):c[f];d.prototype=g;d.prototype.constructor=d;d.extend=arguments.callee;
return d}})();var namespace=function(a){for(var a=a.split("."),b=window,c="",d=0,e=a.length;d<e;d++)c=a[d],b[c]=b[c]||{},b=b[c];return b};function is_array(a){return typeof a=="object"&&a instanceof Array}function is_string(a){return typeof a=="string"}function replaceTemplate(a,b){for(var c in b)a=a.replace("{"+c+"}",b[c]);return a}
var getAttribute=function(a,b){for(var c=b.split("."),d=a,e="",g=0,f=c.length;g<f;g++)e=c[g],d[e]=d[e]||{},d=d[e];return d},setAttribute=function(a,b,c){for(var b=b.split("."),d="",e=0,g=b.length;e<g-1;e++)d=b[e],a[d]=a[d]||{},a=a[d];a[b[g-1]]=c},merge=function(a,b){for(var c in b)a[c]=b[c];return a};isAbsoluteUri=function(a){return a.lastIndexOf("http",0)===0};Error=function(a){this.message=a};function getQueryStringParam(a,b){var c=RegExp("[\\?&]"+b+"=([^&#]*)").exec(a);return!c?"":c[1]||0}
function getCurrentPath(){var a=window.location.href.replace(window.location.hash,"");return a.substring(0,a.lastIndexOf("/"))}var ns=namespace("dr.api.util"),conn=namespace("dr.api.connection");
ns.doAjax=function(a,b,c,d,e){var g=Q.defer(),f=dr.api.util.createRequest();f.onreadystatechange=function(){if(f.readyState==4){var a=f.responseText;a!=""&&(a=JSON.parse(a));f.status!=""&&f.status<300?g.resolve(a):g.reject({status:f.status,error:a.Exception?a.Exception.Error:a})}};dr.api.util.sendRequest(a,b,c,d,f,e);return g.promise};
ns.createRequest=function(){try{req=new XMLHttpRequest}catch(a){try{req=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{req=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){req=!1}}}return req};
ns.sendRequest=function(a,b,c,d,e,g){var c=dr.api.util.utf8Encode(dr.api.util.getQueryString(c)),f=a;c!=""&&(f+=(a.indexOf("?")>0?"&":"?")+c);e.open(b,f,!0);e=dr.api.util.setHeader(d,e);g?(d["Content-Type"]=="application/x-www-form-urlencoded"&&(g=dr.api.util.utf8Encode(dr.api.util.getQueryString(g))),e.send(g)):e.send()};ns.getQueryString=function(a){var b="",c;for(c in a)c&&(b+=c+"="+a[c]+"&");return b.substring(0,b.length-1)};
ns.setHeader=function(a,b){b.setRequestHeader("Accept","application/json");for(var c in a)b.setRequestHeader(c,a[c]);return b};ns.utf8Encode=function(a){for(var a=a.replace(/\r\n/g,"\n"),b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):(d>127&&d<2048?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b};ns.isEmpty=function(a){for(var b in a)return!1;return!0};ns=namespace("dr.api");
ns.authMode={POPUP:"POPUP",IFRAME:"IFRAME",WINDOW:"WINDOW"};ns.config={AUTH_FRAME_ID:"drApiAuthFrame",DEFAULT_REDIRECT_URI:getCurrentPath()+"/drapi-auth.html",EDIT_ACCOUNT_FRAME_ID:"drEditAccountFrame",EDIT_ACCOUNT_REDIRECT_URI:getCurrentPath()+"/drapi-editaccount.html"};var nsConn=namespace("dr.api.connection");nsConn.URI={BASE_URL:null,DEV_BASE_URL:"http://23.21.197.49/",PRD_BASE_URL:"http://23.21.197.49/",VERSION:"v1",ANONYMOUS_LOGIN:"oauth20/token",LOGIN:"oauth20/authorize"};
nsConn.TYPE={XML:"1",JSON:"2",TEXT:"3",UNSIGNED_BYTES:"4"};var nsService=namespace("dr.api.service");
nsService.URI={CATEGORIES:"shoppers/me/categories",PRODUCTS:"shoppers/me/products",PRODUCTS_BY_CATEGORY:"shoppers/me/categories/{categoryId}/products",PRODUCT_OFFERS:"shoppers/me/point-of-promotions/{popName}/offers/{offerId}/product-offers",PRODUCTS_SEARCH:"/shoppers/me/product-search",CART:"shoppers/me/carts/active",CART_LINE_ITEMS:"shoppers/me/carts/active/line-items",CART_OFFERS:"shoppers/me/carts/active/point-of-promotions/{popName}/offers",CART_APPLY_SHOPPER:"shoppers/me/carts/active/apply-shopper",
CART_SHIPPING_OPTIONS:"shoppers/me/carts/active/shipping-options",CART_APPLY_SHIPPING_OPTION:"shoppers/me/carts/active/apply-shipping-option",SHOPPER:"shoppers/me",SHOPPER_PAYMENT_OPTION:"shoppers/me/payment-options",SHOPPER_ACCOUNT:"shoppers/me/account",ORDERS:"shoppers/me/orders",ORDER_SHIPPING_ADDRESS:"shoppers/me/orders/{orderId}/shipping-address",ORDER_BILLING_ADDRESS:"shoppers/me/orders/{orderId}/billing-address",ADDRESS:"shoppers/me/addresses"};ns=namespace("dr.api");
ns.AsyncRequester=Class.extend({init:function(a){this.session=a},makeRequest:function(a,b){if(b){var c=this.getCallbacks(b),d=this;a.fail(function(a){return d.invalidTokenHandler(a)}).then(c.success,c.error).end()}else return a},invalidTokenHandler:function(a){if(a.status==0)a.status=401,a.error={},a.error.errors={},a.error.errors.error={code:"Unauthorized",description:"Invalid token"},this.session.disconnect();throw a;},failRequest:function(a,b){if(b)cb.error(a);else{var c=Q.defer();c.reject(a);
return c.promise}},load:function(a,b,c){return a&&a.uri?this.makeRequest(this.session.retrieve(a.uri,b),c):this.failRequest("The resource does not provide a URI",c)},getCallbacks:function(a){var b=this,c={};a||(a={});c.error=function(c){if(c.error&&c.error.errors&&c.error.errors.error)c.error=c.error.errors.error;a.error&&typeof a.error==="function"?a.error({status:c.status,details:c}):b.options.error&&typeof b.options.error==="function"&&b.options.error({status:c.status,details:c})};c.success=function(c){a.success&&
typeof a.success==="function"?a.success(c):a&&typeof a==="function"?a(c):b.options.success&&typeof b.options.success==="function"&&b.options.success(c)};return c}});var buildUriFromOptions=function(a,b,c){return a+"?redirect_uri="+encodeURIComponent(b)+"&response_type=token&client_id="+c.client_id},getUriWithToken=function(a,b){return a+"&limited_token="+b},ns=namespace("dr.api.view");
ns.AuthIFrameView=function(a,b,c){this.uri=buildUriFromOptions(a,b,c);this.id=dr.api.config.AUTH_FRAME_ID;this.parentElementId=c.elementId};ns.AuthIFrameView.prototype.open=function(a,b){var c=document.getElementById(this.id);c||(c=this.create());var d=getUriWithToken(this.uri,a);c.onload=function(){this.src==d&&b()};c.src=d};ns.AuthIFrameView.prototype.close=function(){console.log("Closing Auth IFrame");var a=document.getElementById(this.id);a&&a.parentNode.removeChild(a)};
ns.AuthIFrameView.prototype.create=function(){var a=document.createElement("iframe");a.id=this.id;a.width="100%";a.height="100%";a.style.margin="auto";a.style.border="none";a.scrolling="auto";(this.parentElementId!=""?document.getElementById(this.parentElementId):document.body).appendChild(a);return a};ns.AuthIFrameView.prototype.AddOnLoadedHandler=function(){};ns=namespace("dr.api.view");ns.AuthWindowView=function(a,b,c){this.uri=buildUriFromOptions(a,b,c);this.id=dr.api.config.AUTH_FRAME_ID};
ns.AuthWindowView.prototype.open=function(a){this.popup&&this.close();a=getUriWithToken(this.uri,a);this.popup=window.open(a,this.id);this.popup.focus()};ns.AuthWindowView.prototype.close=function(){console.log("Closing Auth popup");if(this.popup)this.popup.close(),this.popup=null};ns=namespace("dr.api.view");ns.EditAccountIFrameView=function(a,b,c){this.uri=a+"?redirect_uri="+encodeURIComponent(b);this.id=dr.api.config.EDIT_ACCOUNT_FRAME_ID;this.parentElementId=c.elementId};
ns.EditAccountIFrameView.prototype.open=function(a,b){var c=document.getElementById(this.id);c||(c=this.create());var d=this.uri+"&token="+a;c.onload=function(){this.src==d&&b()};c.src=d};ns.EditAccountIFrameView.prototype.close=function(){console.log("Closing Edit Account IFrame");var a=document.getElementById(this.id);a&&a.parentNode.removeChild(a)};
ns.EditAccountIFrameView.prototype.create=function(){var a=document.createElement("iframe");a.id=this.id;a.width="100%";a.height="100%";a.style.margin="auto";a.style.border="none";a.scrolling="auto";(this.parentElementId!=""?document.getElementById(this.parentElementId):document.body).appendChild(a);return a};ns=namespace("dr.api.auth");
ns.AuthManager=function(a,b){this.redirectUri=b.authRedirectUrl;this.uri=a;this.views={IFRAME:dr.api.view.AuthIFrameView,WINDOW:dr.api.view.AuthWindowView};this.view=this.createView(b.strategy,b)};ns.AuthManager.prototype.createView=function(a,b){return new this.views[a](this.uri,this.redirectUri,b)};ns.AuthManager.prototype.login=function(a,b){var c=Q.defer();dr.api.auth.currentRequest={defer:c,view:this.view};this.view.open(a,b);return c.promise};
ns.authCallback=function(a,b,c,d){var e=dr.api.auth.currentRequest;if(e)e.view.close(),e.view=null,dr.api.auth.currentRequest=null,window.focus(),c?e.defer.reject({error:c,error_description:d}):e.defer.resolve({token:a,expires_in:b})};ns.getError=function(a){switch(a){case "invalid_request":return{error:a,error_description:"Invalid Request. Please check the parameters."}}};ns=namespace("dr.api.auth");ns.DummyAuthManager=function(){};
ns.DummyAuthManager.prototype.login=function(){var a=Q.defer();a.resolve("8913914960fa64353e431285da7cd829");return a.promise};var ns=namespace("dr.api.connection"),util=namespace("dr.api.util");ns.Connection=function(){console.log("Using real Connection");this.baseUrl=dr.api.connection.URI.BASE_URL+dr.api.connection.URI.VERSION+"/"};ns.Connection.prototype.create=function(a,b,c,d){return this.request(a,"POST",b,c,d)};
ns.Connection.prototype.retrieve=function(a,b,c,d){return this.request(a,"GET",b,c,d)};ns.Connection.prototype.update=function(a,b,c){return this.request(a,"PUT",b,c)};ns.Connection.prototype.remove=function(a,b,c){return this.request(a,"DELETE",b,c)};ns.Connection.prototype.submitForm=function(a,b,c){c=c||{};c["Content-Type"]="application/x-www-form-urlencoded";return this.request(a,"POST",{},c,b)};
ns.Connection.prototype.request=function(a,b,c,d,e){isAbsoluteUri(a)||(a=this.baseUrl+a);return util.doAjax(a,b,c,d,e)};ns=namespace("dr.api.dummy");ns.Cart=function(){this.info=dr.api.dummy.cartExpandAll};ns.Cart.prototype.get=function(){return this.info};ns.Cart.prototype.addLineItem=function(a,b){var c=a.split("?")[1].split("&")[0].split("=")[1],d=this.getLineItem(c);this.updateItemQuantity(d,d.quantity+parseInt(b.quantity));this.updateCartTotals();this.updateCartPaymentMehtod(c);return this.info.cart.lineItems};
ns.Cart.prototype.removeLineItem=function(a){for(var b=0;b<this.info.cart.lineItems.lineItem.length;b++)this.info.cart.lineItems.lineItem[b].uri.replace(dr.api.connection.URI.BASE_URL,"")==a&&this.info.cart.lineItems.lineItem.splice(b,1);this.updateCartTotals();return{}};
ns.Cart.prototype.generateLineItem=function(a){var a=dr.api.dummy.getProduct(a).product,b=JSON.parse(JSON.stringify(dr.api.dummy.lineItemToAdd));b.lineItem.id=dr.api.dummy.Cart.prototype.generateId();b.lineItem.uri=dr.api.connection.URI.BASE_URL+dr.api.service.URI.CART_LINE_ITEMS+"/"+b.lineItem.id;b.lineItem.quantity=0;b.lineItem.product.uri=a.uri;b.lineItem.product.displayName=a.displayName;b.lineItem.product.thumbnailImage=a.thumbnailImage;b.lineItem.pricing.listPrice.value=a.pricing.listPrice.value;
b.lineItem.pricing.listPriceWithQuantity.value=0;b.lineItem.pricing.salePriceWithQuantity.value=0;b.lineItem.pricing.formattedListPrice="$"+b.lineItem.pricing.listPrice.value.toFixed(2);b.lineItem.pricing.formattedListPriceWithQuantity="$"+b.lineItem.pricing.listPriceWithQuantity.value.toFixed(2);b.lineItem.pricing.formattedSalePriceWithQuantity="$"+b.lineItem.pricing.salePriceWithQuantity.value.toFixed(2);return b.lineItem};
ns.Cart.prototype.updateCartTotals=function(){for(var a=this.info.cart,b=0,c=0;c<a.lineItems.lineItem.length;c++)b+=a.lineItems.lineItem[c].pricing.salePriceWithQuantity.value;a.pricing.subtotal.value=b;a.pricing.orderTotal.value=b;a.pricing.formattedSubtotal="$"+a.pricing.subtotal.value.toFixed(2);a.pricing.formattedOrderTotal="$"+a.pricing.orderTotal.value.toFixed(2)};
ns.Cart.prototype.updateCartPaymentMehtod=function(a){var b=this.info.cart;if(a=="250460700")b.shippingMethod.code=1806100,b.shippingMethod.description="EconomyPostal - US"};
ns.Cart.prototype.updateItemQuantity=function(a,b){a.quantity=parseInt(b);var c=dr.api.dummy.getProductByUri(a.product.uri).product;a.pricing.listPriceWithQuantity.value=a.pricing.listPrice.value*a.quantity;a.pricing.salePriceWithQuantity.value=c.pricing.salePriceWithQuantity.value*a.quantity;a.pricing.formattedListPrice="$"+a.pricing.listPrice.value.toFixed(2);a.pricing.formattedListPriceWithQuantity="$"+a.pricing.listPriceWithQuantity.value.toFixed(2);a.pricing.formattedSalePriceWithQuantity="$"+
a.pricing.salePriceWithQuantity.value.toFixed(2)};ns.Cart.prototype.getLineItem=function(a){var b=dr.api.connection.URI.BASE_URL+dr.api.connection.URI.VERSION+"/"+dr.api.service.URI.PRODUCTS+"/"+a,c=this.info.cart.lineItems.lineItem;if(c)for(var d=0;d<c.length;d++)if(c[d].product.uri==b)return c[d];a=this.generateLineItem(a);this.info.cart.lineItems.lineItem.push(a);return a};ns.Cart.prototype.generateId=function(){return Math.floor(Math.random()*1E6+1)};
ns.Cart.prototype.clean=function(){this.info.cart.lineItems.lineItem=[];this.info.cart.pricing.formattedOrderTotal="";this.info.cart.pricing.formattedSubtotal="";this.info.cart.pricing.subtotal.value=0;this.info.cart.pricing.orderTotal.value=0;this.info.cart.totalQuantity=0;return{}};
ns.cartAddToCart={LineItems:{relation:"http://dev.digitalriver.com/api-overview/LineItemsAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items",LineItem:[{relation:"http://dev.digitalriver.com/api-overview/LineItemAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items/12472639519"}]}};
ns.cartLineItems={LineItems:{relation:"http://dev.digitalriver.com/api-overview/LineItemsAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items",LineItem:[{relation:"http://dev.digitalriver.com/api-overview/LineItemAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items/12472639519"}]}};
ns.cart={cart:{relation:"http://dev.digitalriver.com/api-overview/CartsAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active",id:10651073019,lineItems:{relation:"http://dev.digitalriver.com/api-overview/LineItemsAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items"},billingAddress:{relation:"http://dev.digitalriver.com/api-overview/AddressAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/billing-address"},shippingAddress:{relation:"http://dev.digitalriver.com/api-overview/AddressAPI",
uri:"http://mockapi.com/v1/shoppers/me/carts/active/shipping-address"},payment:null,shippingMethod:{code:null,description:null},shippingOptions:{relation:"http://dev.digitalriver.com/api-overview/ShippingOptionsAPI",uri:"http://mockapi.com/v1/shoppers/me/shipping-options"},pricing:{subtotal:null,discount:null,shippingAndHandling:null,tax:null,orderTotal:null,formattedSubtotal:null,formattedDiscount:null,formattedShippingAndHandling:null,formattedTax:null,formattedOrderTotal:null}}};
ns.cartExpandAll={cart:{relation:"http://dev.digitalriver.com/api-overview/CartsAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active",id:10650515919,lineItems:{lineItem:[]},billingAddress:{relation:"http://developers.digitalriver.com/v1/shoppers/BillingAddressResource",uri:"http://mockapi.com/v1/shoppers/me/carts/active/billing-address",id:"billingAddress",firstName:"Keith",lastName:"Kester",companyName:null,line1:"9625 W 76th St",line2:"Suite 150",line3:null,city:"Eden Prairie",countrySubdivision:"MN",
postalCode:55344,country:"US",countryName:"United States",phoneNumber:"504-737-7941",countyName:null},shippingAddress:{relation:"http://developers.digitalriver.com/v1/shoppers/ShippingAddressResource",uri:"http://mockapi.com/v1/shoppers/me/carts/active/shipping-address",id:"shippingAddress",firstName:"Keith",lastName:"Kester",companyName:null,line1:"9625 W 76th St",line2:"Suite 150",line3:null,city:"Eden Prairie",countrySubdivision:"MN",postalCode:55344,country:"US",countryName:"United States",phoneNumber:"504-737-7941",
countyName:null},payment:{name:"Visa",displayableNumber:"************1111",expirationMonth:7,expirationYear:2018},shippingMethod:{code:null,description:null},shippingOptions:{relation:"http://dev.digitalriver.com/api-overview/ShippingOptionsAPI",uri:"http://mockapi.com/v1/shoppers/me/shipping-options"},pricing:{subtotal:{currency:"USD",value:0},discount:{currency:"USD",value:""},shippingAndHandling:{currency:"USD",value:""},tax:{currency:"USD",value:""},orderTotal:{currency:"USD",value:0},formattedSubtotal:"$0.00",
formattedDiscount:"$0.00",formattedShippingAndHandling:"$0.00",formattedTax:"$0.00",formattedOrderTotal:"$0.00"}}};
ns.lineItemToAdd={lineItem:{relation:"http://dev.digitalriver.com/api-overview/LineItemAPI",uri:"",id:"",quantity:0,product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"",displayName:"",thumbnailImage:""},pricing:{listPrice:{currency:"USD",value:0},listPriceWithQuantity:{currency:"USD",value:0},salePriceWithQuantity:{currency:"USD",value:0},formattedListPrice:"",formattedListPriceWithQuantity:"",formattedSalePriceWithQuantity:""}}};ns=namespace("dr.api.dummy");
ns.getProduct=function(a){return dr.api.dummy.products[a]};ns.getProductByUri=function(a){return this.getProduct(a.substring(a.lastIndexOf("/")+1).split("?")[0])};ns.listProductsByCategory=function(a){return dr.api.dummy.productsByCategory[a]};
ns.products={248216500:{product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248216500",id:248216500,name:"Jukebox licence",displayName:"Jukebox licence",shortDescription:"Collect, organize and play. It's that simple. ",longDescription:"Best file organization of any digital music jukebox, Connect your Android or PlaysForSure device and Play all popular music files, and audio podcasts\n",productType:"DOWNLOAD",sku:"Jukeboxlicence",
externalReferenceNumber:null,displayableProduct:"true",purchasable:"true",manufacturerName:null,manufacturerPartNumber:null,thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/jukeboxbox.jpg",productImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/detail/joke.png",pricing:{listPrice:{currency:"USD",value:1.5},listPriceWithQuantity:{currency:"USD",value:1.5},salePriceWithQuantity:{currency:"USD",value:1.35},formattedListPrice:"$1.50",
formattedListPriceWithQuantity:"$1.50",formattedSalePriceWithQuantity:"$1.35"},addProductToCart:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=248216500"},purchaseProduct:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248216500/purchase"}}},248217200:{product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248217200",
id:248217200,name:"Sing Network Admin Professional",displayName:"Sing Network Admin Professional",shortDescription:"The Sing Network Admin Professional Assistant is a useful reference for any on-the-go network administrator",longDescription:"The Sing Network Admin Professional Assistant is a useful reference for any on-the-go network administrator, all in the palm of your hand. This tool will allow you to perform TCP/IP calculations and conversions, generate passwords, and estimate data transfer times. Filled with wireless and satellite information, this app will be a useful and interesting",
productType:"DOWNLOAD",sku:"Sing Network Admin Professional",externalReferenceNumber:null,displayableProduct:"true",purchasable:"true",manufacturerName:null,manufacturerPartNumber:null,thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/RedBox.jpg",productImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/detail/red.png",pricing:{listPrice:{currency:"USD",value:2},listPriceWithQuantity:{currency:"USD",value:2},salePriceWithQuantity:{currency:"USD",
value:1.8},formattedListPrice:"$2.00",formattedListPriceWithQuantity:"$2.00",formattedSalePriceWithQuantity:"$1.80"},addProductToCart:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=248217200"},purchaseProduct:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248217200/purchase"}}},248217400:{product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",
uri:"http://mockapi.com/v1/shoppers/me/products/248217400",id:248217400,name:"PhotoshopView",displayName:"PhotoshopView",shortDescription:"Edit, organize, store, and share photos",longDescription:"Edit, organize, store, and share photos ? all online.\nIt's digital imaging wherever you are",productType:"DOWNLOAD",sku:"PhotoshopView",externalReferenceNumber:null,displayableProduct:"true",purchasable:"true",manufacturerName:null,manufacturerPartNumber:null,thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/PhotoshopViewBox.jpg",
productImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/detail/Photoshopview.png",pricing:{listPrice:{currency:"USD",value:3},listPriceWithQuantity:{currency:"USD",value:3},salePriceWithQuantity:{currency:"USD",value:2.7},formattedListPrice:"$3.00",formattedListPriceWithQuantity:"$3.00",formattedSalePriceWithQuantity:"$2.70"},addProductToCart:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=248217400"},
purchaseProduct:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248217400/purchase"}}},248254E3:{product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248254000",id:248254E3,name:"MovieViewer",displayName:"MovieViewer",shortDescription:"Plays everything",longDescription:"MovieViewer is a cross-platform multimedia player and framework that plays most multimedia files as well as DVD, Audio CD, VCD, and various streaming protocols. ",
productType:"DOWNLOAD",sku:"Movie Viewer",externalReferenceNumber:null,displayableProduct:"true",purchasable:"true",manufacturerName:null,manufacturerPartNumber:null,thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/MovieViewer.jpg",productImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/detail/MovieViewer.png",pricing:{listPrice:{currency:"USD",value:4},listPriceWithQuantity:{currency:"USD",value:4},salePriceWithQuantity:{currency:"USD",
value:3.6},formattedListPrice:"$4.00",formattedListPriceWithQuantity:"$4.00",formattedSalePriceWithQuantity:"$3.60"},addProductToCart:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=248254000"},purchaseProduct:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248254000/purchase"}}},248254100:{product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",
uri:"http://mockapi.com/v1/shoppers/me/products/248254100",id:248254100,name:"FastPictureViewer",displayName:"FastPictureViewer",shortDescription:"FastPictureViewer designed for photographers",longDescription:"FastPictureViewer Professional, a 64-bit photo viewer designed for photographers, with Adobe XMP compliant rating system, powerful batch file processing functions and photographer's features: IPTC Editor, RGB histogram, Color Management, EXIF, Tethered Shooting and ultrafast RAW previewing.",
productType:"DOWNLOAD",sku:"FastPictureViewer",externalReferenceNumber:null,displayableProduct:"true",purchasable:"true",manufacturerName:null,manufacturerPartNumber:null,thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/FastPictureView.jpg",productImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/detail/flash.png",pricing:{listPrice:{currency:"USD",value:5},listPriceWithQuantity:{currency:"USD",value:5},salePriceWithQuantity:{currency:"USD",
value:4.5},formattedListPrice:"$5.00",formattedListPriceWithQuantity:"$5.00",formattedSalePriceWithQuantity:"$4.50"},addProductToCart:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=248254100"},purchaseProduct:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248254100/purchase"}}},250460700:{product:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",
uri:"http://mockapi.com/v1/shoppers/me/products/250460700",id:250460700,name:"PeripheralDevice",displayName:"PeripheralDevice",shortDescription:"Hard Drive ",longDescription:"Hard drives are classified as non-volatile, random access, digital, magnetic, data storage devices. Hard disk drives have decreased in cost and physical size over the years while dramatically increasing in capacity and speed.",productType:"PHYSICAL",sku:"PeripheralDevice",externalReferenceNumber:null,displayableProduct:"true",
purchasable:"true",manufacturerName:null,manufacturerPartNumber:null,thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/adding-a-hard-disk-1-1.jpg",productImage:null,pricing:{listPrice:{currency:"USD",value:250},salePriceWithQuantity:{currency:"USD",value:225},formattedListPrice:"$250.00",formattedSalePriceWithQuantity:"$225.00"},addProductToCart:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=250460700"},
purchaseProduct:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products/250460700/purchase"}}}};
ns.productsByCategory={57618400:{products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products",product:[{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products/248217200",id:248217200,displayName:"Network Admin Professional",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/RedBox.jpg",pricing:{formattedListPrice:"$2.00",
formattedSalePriceWithQuantity:"$1.80"}},{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products/248217400",id:248217400,displayName:"Photo Editor",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/PhotoshopViewBox.jpg",pricing:{formattedListPrice:"$3.00",formattedSalePriceWithQuantity:"$2.70"}},{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products/250622200",
id:250622200,displayName:"Headphones",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/headphones80x80.jpg",pricing:{formattedListPrice:"$60.00",formattedSalePriceWithQuantity:"$60.00"}}],totalResults:3,totalResultPages:1}},58812700:{products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products",product:[{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",
uri:"http://mockapi.com/v1/shoppers/me/products/250617600",id:250617600,displayName:"The Wall Pack",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/wall350x300.jpg",pricing:{formattedListPrice:"$30.00",formattedSalePriceWithQuantity:"$30.00"}},{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products/250633900",id:250633900,displayName:"Bond Anti Spyware",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/bond80x80.jpg",
pricing:{formattedListPrice:"$15.00",formattedSalePriceWithQuantity:"$15.00"}},{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products/250634200",id:250634200,displayName:"Advance Internet Toolkit",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/toolkit80x80.jpg",pricing:{formattedListPrice:"$17.00",formattedSalePriceWithQuantity:"$17.00"}}],totalResults:3,totalResultPages:1}},
5895E4:{products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products",product:[{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products/250615900",id:250615900,displayName:"Car Race Game",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/carrace80x80.jpg",pricing:{formattedListPrice:"$100.00",formattedSalePriceWithQuantity:"$100.00"}},
{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products/250616200",id:250616200,displayName:"Adventure Game",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/adventure80x80.jpg",pricing:{formattedListPrice:"$130.00",formattedSalePriceWithQuantity:"$130.00"}},{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products/250616500",
id:250616500,displayName:"Tennis Game",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/Tennis80x80.jpg",pricing:{formattedListPrice:"$110.00",formattedSalePriceWithQuantity:"$110.00"}}],totalResults:3,totalResultPages:1}},58812800:{products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products",product:[{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",
uri:"http://mockapi.com/v1/shoppers/me/products/250616900",id:250616900,displayName:"Image Editor",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/imageEditor80x80.jpg",pricing:{formattedListPrice:"$99.00",formattedSalePriceWithQuantity:"$99.00"}},{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products/250617100",id:250617100,displayName:"Video Editor",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/videoEditor80x80.jpg",
pricing:{formattedListPrice:"$150.00",formattedSalePriceWithQuantity:"$150.00"}},{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products/250617200",id:250617200,displayName:"Music Player",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/musicPlayer80x80.jpg",pricing:{formattedListPrice:"$80.00",formattedSalePriceWithQuantity:"$80.00"}}],totalResults:3,totalResultPages:1}}};
ns=namespace("dr.api.dummy");
ns.categories={categories:{relation:"http://dev.digitalriver.com/api-overview/CategoryAPI",uri:"http://mockapi.com/v1/shoppers/me/categories",category:[{relation:"http://dev.digitalriver.com/api-overview/CategoryAPI",uri:"http://mockapi.com/v1/shoppers/me/categories/57618400"},{relation:"http://dev.digitalriver.com/api-overview/CategoryAPI",uri:"http://mockapi.com/v1/shoppers/me/categories/58783700"},{relation:"http://dev.digitalriver.com/api-overview/CategoryAPI",uri:"http://mockapi.com/v1/shoppers/me/categories/58812500"},{relation:"http://dev.digitalriver.com/api-overview/CategoryAPI",
uri:"http://mockapi.com/v1/shoppers/me/categories/58812600"},{relation:"http://dev.digitalriver.com/api-overview/CategoryAPI",uri:"http://mockapi.com/v1/shoppers/me/categories/58812700"},{relation:"http://dev.digitalriver.com/api-overview/CategoryAPI",uri:"http://mockapi.com/v1/shoppers/me/categories/58812800"},{relation:"http://dev.digitalriver.com/api-overview/CategoryAPI",uri:"http://mockapi.com/v1/shoppers/me/categories/58948700"},{relation:"http://dev.digitalriver.com/api-overview/CategoryAPI",
uri:"http://mockapi.com/v1/shoppers/me/categories/58949800"},{relation:"http://dev.digitalriver.com/api-overview/CategoryAPI",uri:"http://mockapi.com/v1/shoppers/me/categories/58949900"},{relation:"http://dev.digitalriver.com/api-overview/CategoryAPI",uri:"http://mockapi.com/v1/shoppers/me/categories/58950000"}]}};
ns.categoriesExpandCategory={categories:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories",category:[{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/57618400",id:57618400,locale:"en_US",name:"Audio",displayName:"Audio",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/57618400/products"}},
{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58783700",id:58783700,locale:"en_US",name:"Business & Finance",displayName:"Business & Finance",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58783700/products"}},{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58812500",
id:58812500,locale:"en_US",name:"Desktop Enhancements",displayName:"Desktop Enhancements",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58812500/products"}},{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58812600",id:58812600,locale:"en_US",name:"Home & Education",displayName:"Home & Education",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58812600/products"}},{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58812700",id:58812700,locale:"en_US",name:"Internet",displayName:"Internet",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58812700/products"}},{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58812800",id:58812800,locale:"en_US",name:"Multimedia & Design",displayName:"Multimedia & Design",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58812800/products"}},{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58948700",id:58948700,locale:"en_US",name:"Software Development",displayName:"Software Development",
products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58948700/products"}},{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58949800",id:58949800,locale:"en_US",name:"Utilities",displayName:"Utilities",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58949800/products"}},
{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58949900",id:58949900,locale:"en_US",name:"Web Authoring",displayName:"Web Authoring",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58949900/products"}},{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950000",
id:5895E4,locale:"en_US",name:"Games",displayName:"Games",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950000/products"}}]}};
ns.category={57618400:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/57618400",id:57618400,locale:"en_US",name:"Audio",displayName:"Audio",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/57618400/products"},categories:{category:[{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950100",
displayName:"Players",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950100/products"}},{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950200",displayName:"Utilities & Plug-Ins",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950200/products"}},
{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950300",displayName:"Music Creation",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950300/products"}},{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950400",displayName:"Rippers & Encoders ",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58950400/products"}}]}}},58783700:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58783700",id:58783700,locale:"en_US",name:"Business & Finance",displayName:"Business & Finance",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58783700/products"},categories:{category:[{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58783800",displayName:"Inventory Systems",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58783800/products"}},{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58948800",displayName:"Legal",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58948800/products"}},
{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58948900",displayName:"Project Management",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58948900/products"}}]}}},58812500:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58812500",id:58812500,locale:"en_US",
name:"Desktop Enhancements",displayName:"Desktop Enhancements",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58812500/products"},categories:{category:[{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950500",displayName:"Icons",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950500/products"}},
{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950600",displayName:"Skins",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950600/products"}},{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950700",displayName:"Screensavers",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58950700/products"}}]}}},58812600:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58812600",id:58812600,locale:"en_US",name:"Home & Education",displayName:"Home & Education",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58812600/products"},categories:{category:[{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58950800",displayName:"Calendars & Planners",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950800/products"}},{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950900",displayName:"E-books & Literature ",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58950900/products"}},{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951000",displayName:"Food & Beverage ",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951000/products"}}]}}},58812700:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58812700",
id:58812700,locale:"en_US",name:"Internet",displayName:"Internet",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58812700/products"},categories:{category:[{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951100",displayName:"Browsers",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951100/products"}},
{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951200",displayName:"Communications",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951200/products"}}]}}},58812800:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58812800",id:58812800,locale:"en_US",
name:"Multimedia & Design",displayName:"Multimedia & Design",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58812800/products"},categories:{category:[{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951300",displayName:"video",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951300/products"}},
{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951400",displayName:"Image Editing ",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951400/products"}}]}}},58948700:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58948700",id:58948700,locale:"en_US",
name:"Software Development",displayName:"Software Development",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58948700/products"},categories:null}},58949800:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58949800",id:58949800,locale:"en_US",name:"Utilities",displayName:"Utilities",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58949800/products"},categories:null}},58949900:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58949900",id:58949900,locale:"en_US",name:"Web Authoring",displayName:"Web Authoring",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58949900/products"},categories:null}},5895E4:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58950000",id:5895E4,locale:"en_US",name:"Games",displayName:"Games",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950000/products"},categories:null}},58950100:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950100",id:58950100,locale:"en_US",name:"Players",displayName:"Players",
products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950100/products"},categories:null}},58950200:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950200",id:58950200,locale:"en_US",name:"Utilities & Plug-Ins",displayName:"Utilities & Plug-Ins",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58950200/products"},categories:null}},58950300:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950300",id:58950300,locale:"en_US",name:"Music Creation",displayName:"Music Creation",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950300/products"},categories:null}},58950400:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58950400",id:58950400,locale:"en_US",name:"Rippers & Encoders ",displayName:"Rippers & Encoders ",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950400/products"},categories:null}},58783800:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58783800",id:58783800,locale:"en_US",
name:"Inventory Systems",displayName:"Inventory Systems",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58783800/products"},categories:null}},58948800:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58948800",id:58948800,locale:"en_US",name:"Legal",displayName:"Legal",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58948800/products"},categories:null}},58948900:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58948900",id:58948900,locale:"en_US",name:"Project Management",displayName:"Project Management",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58948900/products"},categories:null}},
58950500:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950500",id:58950500,locale:"en_US",name:"Icons",displayName:"Icons",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950500/products"},categories:null}},58950600:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950600",
id:58950600,locale:"en_US",name:"Skins",displayName:"Skins",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950600/products"},categories:null}},58950700:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950700",id:58950700,locale:"en_US",name:"Screensavers",displayName:"Screensavers",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58950700/products"},categories:null}},58950800:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950800",id:58950800,locale:"en_US",name:"Calendars & Planners",displayName:"Calendars & Planners",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950800/products"},categories:null}},
58950900:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950900",id:58950900,locale:"en_US",name:"E-books & Literature ",displayName:"E-books & Literature ",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58950900/products"},categories:null}},58951E3:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58951000",id:58951E3,locale:"en_US",name:"Food & Beverage ",displayName:"Food & Beverage ",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951000/products"},categories:null}},58951100:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951100",id:58951100,locale:"en_US",name:"Browsers",
displayName:"Browsers",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951100/products"},categories:null}},58951200:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951200",id:58951200,locale:"en_US",name:"Communications",displayName:"Communications",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58951200/products"},categories:null}},58951300:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951300",id:58951300,locale:"en_US",name:"video",displayName:"video",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951300/products"},categories:null}},58951400:{category:{relation:"http://developer.digitalriver.com/v1/shoppers/CategoriesResource",
uri:"http://mockapi.com/v1/shoppers/me/categories/58951400",id:58951400,locale:"en_US",name:"Image Editing ",displayName:"Image Editing ",products:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/categories/58951400/products"},categories:null}}};
ns.categoryNotFound={GetCategoryResponse:{ns2:"http://integration.digitalriver.com/CatalogService",ns3:"http://integration.digitalriver.com/CommonAttributes/1.0",catalogKey:{catalogID:14429300,catalogName:"Microsoft Store Demo",companyID:"msdemo"},responseCode:{value:"CATEGORY_NOT_FOUND",message:"Could not find category for requested category ID products"}}};
ns.productsForCategory={Products:{relation:"http://dev.digitalriver.com/api-overview/ProductsAPI",uri:"http://mockapi.com/v1/shoppers/me/products",Product:[{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/241930600",displayName:"Test Product"},{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248217200",displayName:"Sing Network Admin Professional"},{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",
uri:"http://mockapi.com/v1/shoppers/me/products/248217400",displayName:"PhotoshopView"}],totalResults:3,totalResultPages:1}};ns=namespace("dr.api.dummy");ns.getProductOffer=function(a){return dr.api.dummy.productOffer[a]};
ns.productOffers={productOffers:{relation:"http://dev.digitalriver.com/api-overview/ProductOffersAPI",uri:"http://mockapi.com/v1/shoppers/me/point-of-promotions/Banner_ShoppingCartLocal/offers/2384691608/product-offers",productOffer:[{relation:"http://dev.digitalriver.com/api-overview/ProductOfferAPI",uri:"http://mockapi.com/v1/shoppers/me/point-of-promotions/Banner_ShoppingCartLocal/offers/2384691608/product-offers/248216500",id:248216500,product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",
uri:"http://mockapi.com/v1/shoppers/me/products/248216500",displayName:"Jukebox licence",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/jukeboxbox.jpg"},addProductToCart:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=248216500&offerId=2384691608"},salesPitch:null,image:"http://drh1.img.digitalriver.com/DRHM/Storefront/Site/aqued/images/promo/jukebox.jpg",
pricing:{listPrice:{currency:"USD",value:1.5},listPriceWithQuantity:{currency:"USD",value:1.5},salePrice:{currency:"USD",value:1.35},formattedListPrice:"$1.50",formattedListPriceWithQuantity:"$1.50"}},{relation:"http://dev.digitalriver.com/api-overview/ProductOfferAPI",uri:"http://mockapi.com/v1/shoppers/me/point-of-promotions/Banner_ShoppingCartLocal/offers/2384691608/product-offers/248217200",id:248217200,product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248217200",
displayName:"Sing Network Admin Professional",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/RedBox.jpg"},addProductToCart:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=248217200&offerId=2384691608"},salesPitch:null,image:"http://drh1.img.digitalriver.com/DRHM/Storefront/Site/aqued/images/promo/red.jpg",pricing:{listPrice:{currency:"USD",value:2},listPriceWithQuantity:{currency:"USD",
value:2},salePrice:{currency:"USD",value:1.8},formattedListPrice:"$2.00",formattedListPriceWithQuantity:"$2.00"}},{relation:"http://dev.digitalriver.com/api-overview/ProductOfferAPI",uri:"http://mockapi.com/v1/shoppers/me/point-of-promotions/Banner_ShoppingCartLocal/offers/2384691608/product-offers/248217400",id:248217400,product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248217400",displayName:"PhotoshopView",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/PhotoshopViewBox.jpg"},
addProductToCart:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=248217400&offerId=2384691608"},salesPitch:null,image:"http://drh1.img.digitalriver.com/DRHM/Storefront/Site/aqued/images/promo/Photoshopview.jpg",pricing:{listPrice:{currency:"USD",value:3},listPriceWithQuantity:{currency:"USD",value:3},salePrice:{currency:"USD",value:2.7},formattedListPrice:"$3.00",formattedListPriceWithQuantity:"$3.00"}},{relation:"http://dev.digitalriver.com/api-overview/ProductOfferAPI",
uri:"http://mockapi.com/v1/shoppers/me/point-of-promotions/Banner_ShoppingCartLocal/offers/2384691608/product-offers/248254000",id:248254E3,product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248254000",displayName:"MovieViewer",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/MovieViewer.jpg"},addProductToCart:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=248254000&offerId=2384691608"},
salesPitch:null,image:"http://drh1.img.digitalriver.com/DRHM/Storefront/Site/aqued/images/promo/Movieviewer.jpg",pricing:{listPrice:{currency:"USD",value:4},listPriceWithQuantity:{currency:"USD",value:4},salePrice:{currency:"USD",value:3.6},formattedListPrice:"$4.00",formattedListPriceWithQuantity:"$4.00"}},{relation:"http://dev.digitalriver.com/api-overview/ProductOfferAPI",uri:"http://mockapi.com/v1/shoppers/me/point-of-promotions/Banner_ShoppingCartLocal/offers/2384691608/product-offers/248254100",
id:248254100,product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248254100",displayName:"FastPictureViewer",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/FastPictureView.jpg"},addProductToCart:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=248254100&offerId=2384691608"},salesPitch:null,
image:"http://drh1.img.digitalriver.com/DRHM/Storefront/Site/aqued/images/promo/FastPictureViewer.jpg",pricing:{listPrice:{currency:"USD",value:5},listPriceWithQuantity:{currency:"USD",value:5},salePrice:{currency:"USD",value:4.5},formattedListPrice:"$5.00",formattedListPriceWithQuantity:"$5.00"}},{relation:"http://developer.digitalriver.com/v1/shoppers/ProductOffersResource",uri:"http://mockapi.com/v1/shoppers/me/point-of-promotions/Banner_ShoppingCartLocal/offers/2384691608/product-offers/250460700",
id:250460700,product:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/products/250460700",displayName:"PeripheralDevice",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/adding-a-hard-disk-1-1.jpg"},addProductToCart:{relation:"http://developer.digitalriver.com/v1/shoppers/ProductsResource",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=250460700&offerId=2384691608"},
salesPitch:null,image:"http://drh1.img.digitalriver.com/DRHM/Storefront/Site/aqued/images/promo/Amor-imposible-800x300.jpg",pricing:{listPrice:{currency:"USD",value:250},salePriceWithQuantity:{currency:"USD",value:225},formattedListPrice:"$250.00",formattedSalePriceWithQuantity:"$225.00"}}]}};
ns.productOffer={248216500:{productOffer:{relation:"http://dev.digitalriver.com/api-overview/ProductOfferAPI",uri:"http://mockapi.com/v1/shoppers/me/point-of-promotions/Banner_ShoppingCartLocal/offers/2384691608/product-offers/248216500",id:248216500,product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248216500",displayName:"Jukebox licence",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/jukeboxbox.jpg"},
addProductToCart:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=248216500&offerId=2384691608"},salesPitch:null,image:"http://drh1.img.digitalriver.com/DRHM/Storefront/Site/aqued/images/promo/jukebox.jpg",pricing:{listPrice:{currency:"USD",value:1.5},listPriceWithQuantity:{currency:"USD",value:1.5},salePriceWithQuantity:{currency:"USD",value:1.35},formattedListPrice:"$1.50",formattedListPriceWithQuantity:"$1.50",
formattedSalePriceWithQuantity:"$1.35"}}},248217200:{productOffer:{relation:"http://dev.digitalriver.com/api-overview/ProductOfferAPI",uri:"http://mockapi.com/v1/shoppers/me/point-of-promotions/Banner_ShoppingCartLocal/offers/2384691608/product-offers/248217200",id:248217200,product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248217200",displayName:"Sing Network Admin Professional",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/RedBox.jpg"},
addProductToCart:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=248217200&offerId=2384691608"},salesPitch:null,image:"http://drh1.img.digitalriver.com/DRHM/Storefront/Site/aqued/images/promo/red.jpg",pricing:{listPrice:{currency:"USD",value:2},listPriceWithQuantity:{currency:"USD",value:2},salePriceWithQuantity:{currency:"USD",value:1.8},formattedListPrice:"$2.00",formattedListPriceWithQuantity:"$2.00",formattedSalePriceWithQuantity:"$1.80"}}},
248217400:{productOffer:{relation:"http://dev.digitalriver.com/api-overview/ProductOfferAPI",uri:"http://mockapi.com/v1/shoppers/me/point-of-promotions/Banner_ShoppingCartLocal/offers/2384691608/product-offers/248217400",id:248217400,product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248217400",displayName:"PhotoshopView",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/PhotoshopViewBox.jpg"},
addProductToCart:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=248217400&offerId=2384691608"},salesPitch:null,image:"http://drh1.img.digitalriver.com/DRHM/Storefront/Site/aqued/images/promo/Photoshopview.jpg",pricing:{listPrice:{currency:"USD",value:3},listPriceWithQuantity:{currency:"USD",value:3},salePriceWithQuantity:{currency:"USD",value:2.7},formattedListPrice:"$3.00",formattedListPriceWithQuantity:"$3.00",
formattedSalePriceWithQuantity:"$2.70"}}},248254E3:{productOffer:{relation:"http://dev.digitalriver.com/api-overview/ProductOfferAPI",uri:"http://mockapi.com/v1/shoppers/me/point-of-promotions/Banner_ShoppingCartLocal/offers/2384691608/product-offers/248254000",id:248254E3,product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248254000",displayName:"MovieViewer",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/MovieViewer.jpg"},
addProductToCart:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=248254000&offerId=2384691608"},salesPitch:null,image:"http://drh1.img.digitalriver.com/DRHM/Storefront/Site/aqued/images/promo/Movieviewer.jpg",pricing:{listPrice:{currency:"USD",value:4},listPriceWithQuantity:{currency:"USD",value:4},salePriceWithQuantity:{currency:"USD",value:3.6},formattedListPrice:"$4.00",formattedListPriceWithQuantity:"$4.00",
formattedSalePriceWithQuantity:"$3.60"}}},248254100:{productOffer:{relation:"http://dev.digitalriver.com/api-overview/ProductOfferAPI",uri:"http://mockapi.com/v1/shoppers/me/point-of-promotions/Banner_ShoppingCartLocal/offers/2384691608/product-offers/248254100",id:248254100,product:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/products/248254100",displayName:"FastPictureViewer",thumbnailImage:"http://drh1.img.digitalriver.com/DRHM/Storefront/Company/aqued/images/product/thumbnail/FastPictureView.jpg"},
addProductToCart:{relation:"http://dev.digitalriver.com/api-overview/ProductAPI",uri:"http://mockapi.com/v1/shoppers/me/carts/active/line-items?productId=248254100&offerId=2384691608"},salesPitch:null,image:"http://drh1.img.digitalriver.com/DRHM/Storefront/Site/aqued/images/promo/FastPictureViewer.jpg",pricing:{listPrice:{currency:"USD",value:5},listPriceWithQuantity:{currency:"USD",value:5},salePriceWithQuantity:{currency:"USD",value:4.5},formattedListPrice:"$5.00",formattedListPriceWithQuantity:"$5.00",
formattedSalePriceWithQuantity:"$4.50"}}}};ns=namespace("dr.api.dummy");ns.Shopper=function(){this.info=dr.api.dummy.shopperExpandAll};
ns.shopperExpandAll={shopper:{id:161784673509,firstName:"Bob",lastName:"Bobber",emailAddress:"bob@test.com",paymentOptions:{relation:"http://developers.digitalriver.com/api-overview/PaymentOptionsResource",uri:"http://mockapi.com/v1/shoppers/me/payment-options"},addresses:{relation:"http://developers.digitalriver.com/api-overview/AddressesResource",uri:"http://mockapi.com/v1/shoppers/me/payment-options",address:[{relation:"http://developers.digitalriver.com/api-overview/AddressesResource",uri:"http://mockapi.com/v1/shoppers/me/address/2268768209"},
{relation:"http://developers.digitalriver.com/api-overview/AddressesResource",uri:"http://mockapi.com/v1/shoppers/me/address/1082241908"}]}}};
ns.addressExpandAll={addresses:{address:[{relation:"http://developer.digitalriver.com/v1/shoppers/AddressesResource",uri:"http://mockapi.com/v1/shoppers/me/address/1082241908",id:1082241908,nickName:"9625 W 76th St",isDefault:!0,firstName:"Keith",lastName:"Kester",companyName:null,line1:"9625 W 76th St",line2:"Suite 150",line3:null,city:"Eden Prairie",countrySubdivision:"MN",postalCode:55344,country:"US",countryName:"United States",phoneNumber:"504-737-7941",countyName:null}]}};ns=namespace("dr.api.dummy");
ns.orderDetail=function(a){for(var b in this.shopperAllOrders.orders)if(this.shopperAllOrders.orders[b].id===parseInt(a))return this.shopperAllOrders.orders[b]};
ns.shopperAllOrders={orders:[{relation:"http://developer.digitalriver.com/api-overview/OrdersResource",uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500",id:12385168842,submissionDate:"2012-03-08T17:30:43.000Z",displayName:"New Order 1",pricing:{currency:"USD",value:42.9,subtotal:{currency:"USD",value:39.99},tax:{currency:"USD",value:2.91}},payment:{customerLastName:"Tester",customerFirstName:"Automation",paymentAmount:{currency:"USD",value:42.9},paymentMethodName:"visa"},orderState:"In Process",
billingAddress:{relation:"http://developer.digitalriver.com/api-overview/AddressesResource",uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/billing-address"},shippingAddress:{relation:"http://developer.digitalriver.com/api-overview/AddressesResource",uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/shipping-address"},lineItems:{relation:"http://developer.digitalriver.com/api-overview/LineItemsResource",uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/line-items",
lineItem:{relation:"http://developer.digitalriver.com/api-overview/LineItemsAPI",uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/line-items/12281280400",id:12281280400,quantity:1,product:{relation:"http://developer.digitalriver.com/api-overview/ProductsResource",uri:"http://api.digitalriver.com/v1/shoppers/me/products/64358400",displayName:"Class III"},pricing:{listPrice:{currency:"USD",value:39.99},listPriceWithQuantity:{currency:"USD",value:39.99},salePrice:{currency:"USD",value:39.99}}}}},
{relation:"http://developer.digitalriver.com/api-overview/OrdersResource",uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500",id:12385168850,submissionDate:"2012-03-08T17:30:43.000Z",displayName:"New Order 2",pricing:{currency:"USD",value:42.9,subtotal:{currency:"USD",value:39.99},tax:{currency:"USD",value:2.91}},payment:{customerLastName:"Tester",customerFirstName:"Automation",paymentAmount:{currency:"USD",value:42.9},paymentMethodName:"visa"},orderState:"In Process",billingAddress:{relation:"http://developer.digitalriver.com/api-overview/AddressesResource",
uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/billing-address"},shippingAddress:{relation:"http://developer.digitalriver.com/api-overview/AddressesResource",uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/shipping-address"},lineItems:{relation:"http://developer.digitalriver.com/api-overview/LineItemsResource",uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/line-items",lineItem:{relation:"http://developer.digitalriver.com/api-overview/LineItemsAPI",
uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/line-items/12281280400",id:12281280400,quantity:1,product:{relation:"http://developer.digitalriver.com/api-overview/ProductsResource",uri:"http://api.digitalriver.com/v1/shoppers/me/products/64358400",displayName:"Class III"},pricing:{listPrice:{currency:"USD",value:39.99},listPriceWithQuantity:{currency:"USD",value:39.99},salePrice:{currency:"USD",value:39.99}}}}},{relation:"http://developer.digitalriver.com/api-overview/OrdersResource",
uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500",id:12385168789540,submissionDate:"2012-03-08T17:30:43.000Z",displayName:"New Order 3",pricing:{currency:"USD",value:42.9,subtotal:{currency:"USD",value:39.99},tax:{currency:"USD",value:2.91}},payment:{customerLastName:"Tester",customerFirstName:"Automation",paymentAmount:{currency:"USD",value:42.9},paymentMethodName:"visa"},orderState:"In Process",billingAddress:{relation:"http://developer.digitalriver.com/api-overview/AddressesResource",
uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/billing-address"},shippingAddress:{relation:"http://developer.digitalriver.com/api-overview/AddressesResource",uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/shipping-address"},lineItems:{relation:"http://developer.digitalriver.com/api-overview/LineItemsResource",uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/line-items",lineItem:{relation:"http://developer.digitalriver.com/api-overview/LineItemsAPI",
uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/line-items/12281280400",id:12281280400,quantity:1,product:{relation:"http://developer.digitalriver.com/api-overview/ProductsResource",uri:"http://api.digitalriver.com/v1/shoppers/me/products/64358400",displayName:"Class III"},pricing:{listPrice:{currency:"USD",value:39.99},listPriceWithQuantity:{currency:"USD",value:39.99},salePrice:{currency:"USD",value:39.99}}}}},{relation:"http://developer.digitalriver.com/api-overview/OrdersResource",
uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500",id:1238516854887415,submissionDate:"2012-03-08T17:30:43.000Z",displayName:"New Order 4",pricing:{currency:"USD",value:42.9,subtotal:{currency:"USD",value:39.99},tax:{currency:"USD",value:2.91}},payment:{customerLastName:"Tester",customerFirstName:"Automation",paymentAmount:{currency:"USD",value:42.9},paymentMethodName:"visa"},orderState:"In Process",billingAddress:{relation:"http://developer.digitalriver.com/api-overview/AddressesResource",
uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/billing-address"},shippingAddress:{relation:"http://developer.digitalriver.com/api-overview/AddressesResource",uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/shipping-address"},lineItems:{relation:"http://developer.digitalriver.com/api-overview/LineItemsResource",uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/line-items",lineItem:{relation:"http://developer.digitalriver.com/api-overview/LineItemsAPI",
uri:"http://api.digitalriver.com/v1/shoppers/me/orders/10433221500/line-items/12281280400",id:12281280400,quantity:1,product:{relation:"http://developer.digitalriver.com/api-overview/ProductsResource",uri:"http://api.digitalriver.com/v1/shoppers/me/products/64358400",displayName:"Class III"},pricing:{listPrice:{currency:"USD",value:39.99},listPriceWithQuantity:{currency:"USD",value:39.99},salePrice:{currency:"USD",value:39.99}}}}}]};
ns.shopperOrdersExpandAll={orders:{relation:"http://developers.digitalriver.com/v1/shoppers/OrdersResource",uri:"http://mockapi.com/v1/shoppers/mehttp://developers.digitalriver.com/v1/shoppers/OrdersResource",totalResults:"4",order:[{submissionDate:"2012-03-08T17:30:43.000Z",relation:"http://developers.digitalriver.com/v1/shoppers/OrdersResource",uri:"http://mockapi.com/v1/shoppers/me/orders/12385168842",id:12385168842,locale:"en_US",optIn:!1,testOrder:!0,taxExempt:!1,pricing:{total:{currency:"USD",
value:650.09},subtotal:{currency:"USD",value:500.99},tax:{currency:"USD",value:4.15},shipping:{currency:"USD",value:6.95}},payment:{customerLastName:"Kester",customerFirstName:"Keith",paymentAmount:{currency:"USD",value:61.09},paymentMethodName:"visa"},orderState:"Complete",billingAddress:{relation:"http://developers.digitalriver.com/v1/shoppers/BillingAddressResource",uri:"http://mockapi.com/v1/shoppers/me/carts/10690353819/billing-address",id:"billingAddress",firstName:"Keith",lastName:"Kester",
companyName:"",line1:"9625 W 76th St",line2:"Suite 150",line3:"",city:"Eden Prairie",countrySubdivision:"MN",postalCode:55344,country:"US",countryName:"United States",phoneNumber:"504-737-7941"},shippingAddress:{relation:"http://developers.digitalriver.com/v1/shoppers/ShippingAddressResource",uri:"http://mockapi.com/v1/shoppers/me/carts/10690353819/shipping-address",id:"shippingAddress",firstName:"Keith",lastName:"Kester",companyName:"",line1:"9625 W 76th St",line2:"Suite 150",line3:"",city:"Eden Prairie",
countrySubdivision:"MN",postalCode:55344,country:"US",countryName:"United States",phoneNumber:-8174},lineItems:{relation:"http://developers.digitalriver.com/v1/shoppers/LineItemsResource",uri:"http://mockapi.com/v1/shoppers/me/carts/10690353819/line-items"}},{relation:"http://developers.digitalriver.com/v1/shoppers/OrdersResource",uri:"http://mockapi.com/v1/shoppers/me/orders/12385168842",id:12385168850,submissionDate:"2012-03-08T17:30:43.000Z",locale:"en_US",optIn:!1,testOrder:!0,taxExempt:!1,pricing:{total:{currency:"USD",
value:800.15},subtotal:{currency:"USD",value:600},tax:{currency:"USD",value:4.15},shipping:{currency:"USD",value:6.95}},payment:{customerLastName:"Kester",customerFirstName:"Keith",paymentAmount:{currency:"USD",value:61.09},paymentMethodName:"visa"},orderState:"In Process",billingAddress:{relation:"http://developers.digitalriver.com/v1/shoppers/BillingAddressResource",uri:"http://mockapi.com/v1/shoppers/me/carts/10690353819/billing-address",id:"billingAddress",firstName:"Keith",lastName:"Kester",
companyName:"",line1:"9625 W 76th St",line2:"Suite 150",line3:"",city:"Eden Prairie",countrySubdivision:"MN",postalCode:55344,country:"US",countryName:"United States",phoneNumber:"504-737-7941"},shippingAddress:{relation:"http://developers.digitalriver.com/v1/shoppers/ShippingAddressResource",uri:"http://mockapi.com/v1/shoppers/me/carts/10690353819/shipping-address",id:"shippingAddress",firstName:"Keith",lastName:"Kester",companyName:"",line1:"9625 W 76th St",line2:"Suite 150",line3:"",city:"Eden Prairie",
countrySubdivision:"MN",postalCode:55344,country:"US",countryName:"United States",phoneNumber:-8174},lineItems:{relation:"http://developers.digitalriver.com/v1/shoppers/LineItemsResource",uri:"http://mockapi.com/v1/shoppers/me/carts/10690353819/line-items"}},{relation:"http://developers.digitalriver.com/v1/shoppers/OrdersResource",uri:"http://mockapi.com/v1/shoppers/me/orders/12385168842",id:12385168789540,locale:"en_US",submissionDate:"2012-03-08T17:30:43.000Z",optIn:!1,testOrder:!0,taxExempt:!1,
pricing:{total:{currency:"USD",value:1000.66},subtotal:{currency:"USD",value:900.5},tax:{currency:"USD",value:4.15},shipping:{currency:"USD",value:6.95}},payment:{customerLastName:"Kester",customerFirstName:"Keith",paymentAmount:{currency:"USD",value:61.09},paymentMethodName:"american"},orderState:"In Process",billingAddress:{relation:"http://developers.digitalriver.com/v1/shoppers/BillingAddressResource",uri:"http://mockapi.com/v1/shoppers/me/carts/10690353819/billing-address",id:"billingAddress",
firstName:"Keith",lastName:"Kester",companyName:"",line1:"9625 W 76th St",line2:"Suite 150",line3:"",city:"Eden Prairie",countrySubdivision:"MN",postalCode:55344,country:"US",countryName:"United States",phoneNumber:"504-737-7941"},shippingAddress:{relation:"http://developers.digitalriver.com/v1/shoppers/ShippingAddressResource",uri:"http://mockapi.com/v1/shoppers/me/carts/10690353819/shipping-address",id:"shippingAddress",firstName:"Keith",lastName:"Kester",companyName:"",line1:"9625 W 76th St",line2:"Suite 150",
line3:"",city:"Eden Prairie",countrySubdivision:"MN",postalCode:55344,country:"US",countryName:"United States",phoneNumber:-8174},lineItems:{relation:"http://developers.digitalriver.com/v1/shoppers/LineItemsResource",uri:"http://mockapi.com/v1/shoppers/me/carts/10690353819/line-items"}},{relation:"http://developers.digitalriver.com/v1/shoppers/OrdersResource",uri:"http://mockapi.com/v1/shoppers/me/orders/12385168842",submissionDate:"2012-03-08T17:30:43.000Z",id:1238516854887415,locale:"en_US",optIn:!1,
testOrder:!0,taxExempt:!1,pricing:{total:{currency:"USD",value:2300.3},subtotal:{currency:"USD",value:2000.14},tax:{currency:"USD",value:4.15},shipping:{currency:"USD",value:6.95}},payment:{customerLastName:"Kester",customerFirstName:"Keith",paymentAmount:{currency:"USD",value:61.09},paymentMethodName:"visa"},orderState:"Completed",billingAddress:{relation:"http://developers.digitalriver.com/v1/shoppers/BillingAddressResource",uri:"http://mockapi.com/v1/shoppers/me/carts/10690353819/billing-address",
id:"billingAddress",firstName:"Keith",lastName:"Kester",companyName:"",line1:"9625 W 76th St",line2:"Suite 150",line3:"",city:"Eden Prairie",countrySubdivision:"MN",postalCode:55344,country:"US",countryName:"United States",phoneNumber:"504-737-7941"},shippingAddress:{relation:"http://developers.digitalriver.com/v1/shoppers/ShippingAddressResource",uri:"http://mockapi.com/v1/shoppers/me/carts/10690353819/shipping-address",id:"shippingAddress",firstName:"Keith",lastName:"Kester",companyName:"",line1:"9625 W 76th St",
line2:"Suite 150",line3:"",city:"Eden Prairie",countrySubdivision:"MN",postalCode:55344,country:"US",countryName:"United States",phoneNumber:-8174},lineItems:{relation:"http://developers.digitalriver.com/v1/shoppers/LineItemsResource",uri:"http://mockapi.com/v1/shoppers/me/carts/10690353819/line-items"}}]}};var ns=namespace("dr.api.connection"),constants=namespace("dr.api.service");ns.DummyConnection=function(){console.log("Using DummyConnection");this.cart=new dr.api.dummy.Cart;this.parameters={}};
ns.DummyConnection.prototype.retrieve=function(a){var b=a.split("/")[a.split("/").length-1],b=b.split("?")[0],a=a.replace(dr.api.connection.URI.BASE_URL,""),a=a.replace(dr.api.connection.URI.VERSION+"/",""),c=Q.defer();switch(a){case dr.api.connection.URI.ANONYMOUS_LOGIN:c.resolve({access_token:"4d0a62689a57b837b4fdaa8374088560"});break;case replaceTemplate(dr.api.service.URI.PRODUCT_OFFERS,{popName:"Banner_ShoppingCartLocal",offerId:"2384691608"}):c.resolve(dr.api.dummy.productOffers);break;case replaceTemplate(dr.api.service.URI.PRODUCT_OFFERS,
{popName:"Banner_ShoppingCartLocal",offerId:"2384691608"})+"/"+b:c.resolve(dr.api.dummy.getProductOffer(b));break;case constants.URI.CATEGORIES:c.resolve(dr.api.dummy.categoriesExpandCategory);break;case constants.URI.CATEGORIES+"/"+b:c.resolve(dr.api.dummy.category[b]);break;case constants.URI.PRODUCTS:c.resolve(dr.api.dummy.products);break;case constants.URI.PRODUCTS+"/"+b:c.resolve(dr.api.dummy.getProduct(b));break;case constants.URI.CART:c.resolve(this.cart.get());break;case replaceTemplate(dr.api.service.URI.PRODUCTS_BY_CATEGORY,
{categoryId:b}):c.resolve(dr.api.dummy.listProductsByCategory(b));break;case constants.URI.SHOPPER:c.resolve(dr.api.dummy.shopperExpandAll);break;case constants.URI.ORDERS:c.resolve(dr.api.dummy.shopperOrdersExpandAll);break;case constants.URI.ORDERS+"/"+b:c.resolve(dr.api.dummy.orderDetail(b));break;case constants.URI.ADDRESS:c.resolve(dr.api.dummy.addressExpandAll);break;default:c.reject({error:{code:"404",description:"invalid URI "+a}})}return c.promise};
ns.DummyConnection.prototype.create=function(a,b){var a=a.replace(dr.api.connection.URI.BASE_URL,""),a=a.replace(dr.api.connection.URI.VERSION+"/",""),c=Q.defer();a.indexOf(dr.api.service.URI.CART_LINE_ITEMS)==0?c.resolve(this.cart.addLineItem(a,b)):a==dr.api.service.URI.CART?c.resolve(this.cart.get()):a.indexOf(dr.api.service.URI.ORDERS)==0?c.resolve(this.cart.clean()):c.reject({error:{message:"invalid URI "+a}});return c.promise};
ns.DummyConnection.prototype.update=function(a){this.request(a,"PUT",data)};ns.DummyConnection.prototype.remove=function(a){var a=a.replace(dr.api.connection.URI.BASE_URL,""),a=a.replace(dr.api.connection.URI.VERSION+"/",""),b=Q.defer();a.indexOf(dr.api.service.URI.CART)==0?b.resolve(this.cart.removeLineItem(a)):b.reject({error:{message:"invalid URI "+a}});return b.promise};
ns.DummyConnection.prototype._extractParameters=function(a){for(var a=a.split("/"),b,c=0;c<a.length;c++)if(b=a[c],b=="product-offers"||b=="categories"||b=="products"||b=="line-items")c!=a.length-1&&(this.parameters[b]=a[++c])};ns=namespace("dr.api.connection");
ns.Session=function(a,b,c){this.apikey=a;b=="1"?(this.connection=new dr.api.connection.DummyConnection,this.authManager=new dr.api.auth.DummyAuthManager):(this.connection=new dr.api.connection.Connection,this.authManager=new dr.api.auth.AuthManager(dr.api.connection.URI.BASE_URL+dr.api.connection.URI.LOGIN,c));this.refresh_token=this.token=null;this.authenticated=this.connected=!1;this.tokenExpirationTime=this.tokenStartTime=null};
ns.Session.prototype.createErrorPromise=function(a){console.log("Operation not allowed: "+a);var b=Q.defer();b.reject(a);return b.promise};ns.Session.prototype.createDisconnectedError=function(){return this.createErrorPromise("You must be connected to the server in order to use the API")};ns.Session.prototype.create=function(a,b){if(!this.connected)return this.createDisconnectedError();var c={};c.Authorization="bearer "+this.token;return this.connection.create(a,b,c).then(function(a){for(var b in a)if(b)return a[b]})};
ns.Session.prototype.remove=function(a,b){if(!this.connected)return this.createDisconnectedError();var c={};c.Authorization="bearer "+this.token;b||(b={});b.client_id=this.apikey;return this.connection.remove(a,b,c).then(function(a){for(var b in a)if(b)return a[b]})};ns.Session.prototype.retrieve=function(a,b){if(!this.connected)return this.createDisconnectedError();var c={};c.Authorization="bearer "+this.token;b||(b={});b.client_id=this.apikey;return this.connection.retrieve(a,b,c).then(function(a){for(var b in a)if(b)return a[b]})};
ns.Session.prototype.errorHandle=function(){};
ns.Session.prototype.anonymousLogin=function(){var a=dr.api.connection.URI.BASE_URL+dr.api.connection.URI.ANONYMOUS_LOGIN,b=this,c=new Date;if(this.refresh_token)return this.refreshToken();c={client_id:this.apikey,ts:c.getTime(),grant_type:"password",username:"anonymous",password:"anonymous"};return this.connection.submitForm(a,c,{}).then(function(a){b.connected=!0;b.token=a.access_token;b.refresh_token=a.refresh_token;console.debug("[DR Api Library] Anonymous token obtained: "+b.token);b.tokenStartTime=
(new Date).getTime()/1E3;b.tokenExpirationTime=(new Date).getTime()/1E3+parseInt(a.expires_in);return a})};
ns.Session.prototype.refreshToken=function(){var a=dr.api.connection.URI.BASE_URL+dr.api.connection.URI.ANONYMOUS_LOGIN,b=this,c={client_id:this.apikey,ts:(new Date).getTime(),grant_type:"refresh_token",refresh_token:this.refresh_token};return this.connection.submitForm(a,c,{}).then(function(a){b.connected=!0;b.token=a.access_token;b.refresh_token=a.refresh_token;console.debug("[DR Api Library] Anonymous token obtained using Refresh Token: "+b.token);b.tokenStartTime=(new Date).getTime()/1E3;b.tokenExpirationTime=
(new Date).getTime()/1E3+parseInt(a.expires_in);return a})};
ns.Session.prototype.authenticate=function(a){var b=this;if(!this.connected)return this.createDisconnectedError();a=this.authManager.login(this.token,a);a.then(function(a){if(a.token!="")b.token=a.token,b.authenticated=!0,b.refresh_token=null,b.tokenStartTime=(new Date).getTime()/1E3,b.tokenExpirationTime=(new Date).getTime()/1E3+parseInt(a.expires_in),console.debug("[DR Api Library] Authenticated token obtained: "+b.token);return a.token});return a};
ns.Session.prototype.disconnect=function(){this.token=null;this.connected=this.authenticated=!1;var a=Q.defer();a.resolve();return a.promise};ns.Session.prototype.logout=function(){if(!this.connected)return this.createDisconnectedError();if(this.authenticated)return this.token=null,this.authenticated=!1,this.anonymousLogin();else{var a=Q.defer();a.resolve();return a.promise}};ns.Session.prototype.handleExpansion=function(a,b){var c=this;return a.then(function(a){return c.expand(a,b)})};
ns.Session.prototype.expand=function(a,b){var c=getAttribute(a,b),d=[],e=is_array(c);if(e)for(var g=0;g<c.length;g++)d.push(this.retrieve(c[g].uri,{}));else d.push(this.retrieve(c.uri,{}));return Q.all(d).then(function(c){if(e){setAttribute(a,b,[]);for(var d=getAttribute(a,b),g=0;g<c.length;g++)d.push(c[g])}else setAttribute(a,b,c[0]);return a})};var ns=namespace("dr.api.service"),nsa=namespace("dr.api");
ns.BaseService=nsa.AsyncRequester.extend({init:function(a){if(!a)throw"Client must be instantiated";this._super(a.session);this.client=a;this.options=a.options},get:function(a,b,c){return this.makeRequest(this.session.retrieve(this.uri+"/"+a,b),c)},list:function(a,b){return this.makeRequest(this.session.retrieve(this.uri,a),b)},parseResponse:function(a){return a}});ns=namespace("dr.api.service");
ns.CartService=ns.BaseService.extend({uri:ns.URI.CART,addLineItem:function(a,b,c,d){return this.makeRequest(this.session.create(b?b:a.addProductToCart.uri,c),d)},get:function(a,b){return this.makeRequest(this.session.retrieve(this.uri,a),b)},removeLineItem:function(a,b,c){return this.makeRequest(this.session.remove(a.uri,b),c)},getShippingOptions:function(a,b){return this.makeRequest(this.session.retrieve(dr.api.service.URI.CART_SHIPPING_OPTIONS,a),b)},getOffers:function(a,b,c){return this.makeRequest(this.session.retrieve(replaceTemplate(dr.api.service.URI.CART_OFFERS,
{popName:a}),b),c)},applyShippingOption:function(a,b){return this.makeRequest(this.session.create(dr.api.service.URI.CART_APPLY_SHIPPING_OPTION,a),b)},applyShopper:function(a,b){return this.makeRequest(this.session.create(dr.api.service.URI.CART_APPLY_SHOPPER,a),b)},submit:function(a,b){return this.makeRequest(this.session.create(dr.api.service.URI.ORDERS,a),b)}});ns=namespace("dr.api.service");ns.CategoryService=ns.BaseService.extend({uri:ns.URI.CATEGORIES});ns=namespace("dr.api.service");
ns.ProductOfferService=ns.BaseService.extend({uri:ns.URI.PRODUCT_OFFERS,list:function(a,b,c,d){return this.makeRequest(this.session.retrieve(replaceTemplate(this.uri,{popName:a,offerId:b}),c),d)},get:function(a,b,c,d,e){return this.makeRequest(this.session.retrieve(replaceTemplate(this.uri,{popName:a,offerId:b})+"/"+c,d),e)}});var service=namespace("dr.api.service");
ns.ProductService=ns.BaseService.extend({uri:ns.URI.PRODUCTS,listProductsByCategory:function(a,b,c){return this.makeRequest(this.session.retrieve(replaceTemplate(dr.api.service.URI.PRODUCTS_BY_CATEGORY,{categoryId:a}),b),c)},search:function(a,b){return this.makeRequest(this.session.retrieve(dr.api.service.URI.PRODUCTS_SEARCH,a),b)},getProductsByIds:function(a,b){return this.makeRequest(this.session.retrieve(this.uri,a),b)}});ns=namespace("dr.api.service");
ns.ShopperService=ns.BaseService.extend({uri:ns.URI.SHOPPER,get:function(a,b){return this.makeRequest(this.session.retrieve(this.uri,a),b)},getAddresses:function(a,b){return this.makeRequest(this.session.retrieve(dr.api.service.URI.ADDRESS,a),b)},getPaymentOptions:function(a,b){return this.makeRequest(this.session.retrieve(dr.api.service.URI.SHOPPER_PAYMENT_OPTION,a),b)},editAccount:function(a,b,c){var d=dr.api.connection.URI.BASE_URL+dr.api.connection.URI.VERSION+"/"+dr.api.service.URI.SHOPPER_ACCOUNT,
e=Q.defer();this.view=new dr.api.view.EditAccountIFrameView(d,dr.api.config.EDIT_ACCOUNT_REDIRECT_URI,a);dr.api.service.currentRequest={defer:e,view:this.view};this.view.open(this.session.token,c);return this.makeRequest(e.promise,b)}});ns.editCallback=function(){var a=dr.api.service.currentRequest;if(a)a.view.close(),a.view=null,dr.api.auth.currentRequest=null,window.focus(),a.defer.resolve()};ns=namespace("dr.api.service");ns.OrderService=ns.BaseService.extend({uri:ns.URI.ORDERS});ns=namespace("dr.api");
if(!window.console)window.console={};if(!window.console.log)window.console.log=function(){};
ns.Client=ns.AsyncRequester.extend({init:function(a,b){this.options={isDummy:"0",env:"prod",authElementId:"",authRedirectUrl:dr.api.config.DEFAULT_REDIRECT_URI,authMode:dr.api.authMode.IFRAME};this.options=merge(this.options,b);this.setEnvironment(this.options.isDummy,this.options.env);this.session=new dr.api.connection.Session(a,this.options.isDummy,this.createAuthConfig(a,this.options));this.cart=new dr.api.service.CartService(this);this.categories=new dr.api.service.CategoryService(this);this.products=
new dr.api.service.ProductService(this);this.productOffers=new dr.api.service.ProductOfferService(this);this.shopper=new dr.api.service.ShopperService(this);this.orders=new dr.api.service.OrderService(this);this._super(this.session)},setEnvironment:function(a,b){dr.api.connection.URI.BASE_URL=a=="1"?"http://mockapi.com/":b=="dev"?dr.api.connection.URI.DEV_BASE_URL:dr.api.connection.URI.PRD_BASE_URL},createAuthConfig:function(a,b){return{elementId:b.authElementId,authRedirectUrl:b.authRedirectUrl,
strategy:b.authMode,client_id:a}},connect:function(a){return this.makeRequest(this.session.anonymousLogin(),a)},login:function(a,b){return this.makeRequest(this.session.authenticate(b),a)},logout:function(a){return this.makeRequest(this.session.logout(),a)},disconnect:function(a){return this.makeRequest(this.session.disconnect(),a)},checkConnection:function(a){var b=Q.defer();this.cart.get({fields:"id"},function(){a()});return b.promise},getSessionInfo:function(){return{connected:this.session.connected,
authenticated:this.session.authenticated,token:this.session.token,tokenExpirationTime:this.session.tokenExpirationTime}}});
